<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ page.title }}</title>
    <!-- Main Styles -->
    <link rel="stylesheet" href="{{ site.baseurl }}/styles.css">
    <!-- Conditional Timeline Styles -->
    {% if page.permalink contains "history-of-earth" %}
    <link rel="stylesheet" href="{{ site.baseurl }}/styles/styles-timeline.css">
    {% endif %}
</head>
<body>
    <header>
        <h1>{{ page.title }}</h1>
    </header>
    <main class="timeline-table">
        <table>
            <!-- Split sections by "---" as a row separator -->
            {% assign rows = page.content | split: '---' %}
            {% for row in rows %}
            <tr class="{% cycle 'row-light', 'row-dark' %}">
                <td>
                    <!-- Column 1 (Time Periods): First heading in the row -->
                    {% assign first_heading = row | split: '\n' | first %}
                    {{ first_heading | strip }}
                </td>
                <td>
                    <!-- Column 2 (Descriptions): Extract descriptions starting with "- Description:" -->
                    {% assign description_lines = row | split: '- Description:' | last | split: '- Outcome:' | first %}
                    <p>{{ description_lines | strip }}</p>
                </td>
                <td>
                    <!-- Column 3 (Bullet Points/Outcomes): Extract outcomes -->
                    <ul>
                        {% assign outcome_lines = row | split: '- Outcome:' | last | split: '\n' %}
                        {% for line in outcome_lines %}
                        {% if line contains "- " %}
                        <li>{{ line | remove: '-' | strip }}</li>
                        {% endif %}
                        {% endfor %}
                    </ul>
                </td>
            </tr>
            {% endfor %}
        </table>
    </main>
</body>
</html>
